<%= render 'users/backnavbar' %>
<div class="edit-container">
  <div class="container" style="width: 939.778px; height: 1120px; ">
    <div class="edit-page">
      <div class="justify-content-center">
        <div class="">
          <div class="d-flex justify-content-between align-items-center">
            <h1 class="edit-h1">My Profile</h1>
            <small class="text-right">
              <a class="mb20 text-decoration-none"><i class="fas fa-chevron-circle-left"></i> Back to Dashboard</a>
              &nbsp;|&nbsp;
              <a class="mb20 text-decoration-none"><i class="fa fa-external-link" aria-hidden="true"></i> Edit Forum Settings</a>
            </small>
          </div>
          <label class="row">
            <%= form_with(model: current_user, url: update_profile_picture_path, local: true, method: :patch, html: { multipart: true }) do |form| %>
              <% if current_user.profile_picture.attached? %>
                <div class="profile-photo col-md-4 pull-right" style="position: relative; background-image: url('<%= url_for(current_user.profile_picture) %>');" onclick="document.getElementById('user_profile_picture').click();">
                  <%= form.file_field :profile_picture, id: 'user_profile_picture', style: 'display: none;', onchange: 'this.form.submit();' %>
                  <div style="position: absolute; top: 0; left: 193px;">
                    <%= form.file_field :profile_picture %>
                  </div>
                </div>
              <% else %>
                <div class="profile-photo pull-right" style="background-image: url('<%= asset_path('profile-pic.png') %>');" onclick="document.getElementById('user_profile_picture').click();">
                  <%= form.file_field :profile_picture, id: 'user_profile_picture', style: 'display: none;', onchange: 'this.form.submit();' %>
                  <div style="position: absolute; top: 0; left: 193px;">
                    <%= form.file_field :profile_picture %>
                  </div>
                </div>
              <% end %>
            <% end %>
          </label>

          <%= form_with model: @user, url: user_profile_path, method: :patch do |form| %>
            <div class="edit-form">
              <div class="form-group row">
                <%= form.label :full_name, "Full Name", class:"col-md-4 text-md-end" %>
                <div class="col-md-6 input-edit">
                  <%= form.text_field :full_name, class: "form-control" %>
                </div>
              </div>

              <div class="form-group row">
                <%= form.label :gender, "Gender", class: "col-md-4 col-form-label text-md-end" %>
                <div class="col-md-6 input-edit">
                  <select class="form-select form-control" aria-label="Default select example">
                  <option selected>Select Gender</option>
                  <option value="1">Male</option>
                  <option value="2">Female</option>
                  </select>
                </div>
              </div>

              <div class="form-group row">
                <%= form.label :date_of_birth, "Date of Birth", class:"col-md-4 text-md-end" %>
                <div class="col-md-6 input-edit dob-input">
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-calendar-alt fa-xl"></i></span>
                    <%= form.text_field :date_of_birth, placeholder: 'YYYY-MM-DD', type: 'date', class: "form-control" %>
                  </div>
                </div>  
              </div>

              <div class="form-group row">
                <%= form.label :country, "Country", class:"col-md-4 text-md-end" %>
                <div class="col-md-6 input-edit">
                  <div class="input-group">
                    <select class="form-select form-control" aria-label="Default select example">
                      <option selected>Country</option>
                      <option value="1">Pakistan</option>
                      <option value="2">Dubai</option>
                      <option value="3">Uk</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="form-group row">
                <%= form.label :city, "City", class:"col-md-4 text-md-end" %>
                <div class="col-md-6 input-edit">
                  <select class="form-select form-control" aria-label="Default select example">
                    <option selected>City</option>
                    <option value="1">Lahore</option>
                    <option value="2">Karachi</option>
                    <option value="3">Fasailbad</option>
                  </select>
                </div>
              </div>

              <div class="form-group row">
                <%= form.label :username, "Username", class:"col-md-4 text-md-end" %>
                <div class="col-md-6 input-edit">
                  <%= form.text_field :username, class: "form-control" %>
                </div>
              </div>

              <div class="form-group row">
                <%= form.label :email, "Email", class:"col-md-4 text-md-end" %>
                <div class="col-md-6 input-edit">
                  <%= form.email_field :email, class: "form-control" %>
                </div>
              </div>

              <div class="form-group row">
                <%= form.label :password, "Password", class:"col-md-4 text-md-end" %>
                <div class="col-md-6 input-edit ">
                  <%= link_to 'Change Password', change_password_path, class: "btn btn-outline-primary btn-password" %>
                </div>
              </div>

              <div class="form-group row">
                <%= form.label :mobile_number, "Mobile Number", class:"col-md-4 text-md-end" %>
                <div class="col-md-6 input-edit">
                  <button class="btn btn-primary btn-sm mt5" type="button">Add Number</button>
                </div>
              </div>

              <div class="row btn-save">
                <div class="col-md-6 offset-md-4">
                  <%= form.button 'Save Changes', type: 'submit', class: 'btn btn-primary btn-large ' %>
                </div>  
              </div>          

              <div class="form-group row btn-facebook">
                <%= form.label :Linked_Account, "Linked Account", class:"col-md-4 text-md-end" %>
                <div class=" col-md-6 ">
                  <button class="btn btn-social facebook" type="button"><i class="fa-brands fa-square-facebook"></i>
                    Connect with Facebook</button>
                </div>  
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>